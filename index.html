<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tour Interativo Covilhã e Serra</title>

<style>
body{font-family:Arial;text-align:center;padding:20px}
button{padding:15px 25px;font-size:18px}
</style>
</head>

<body>

<h2>Tour Interativo Covilhã e Serra</h2>

<button onclick="iniciarTour()">INICIAR TOUR</button>
<p id="status">Aguardando início...</p>

<div id="local"></div>

<script>

const pontos=[

{nome:"Central de Camionagem",lat:40.2735,lng:-7.4983,raio:300,texto:"Principal terminal rodoviário."},

{nome:"Serra Shopping",lat:40.2710,lng:-7.5023,raio:300,texto:"Maior centro comercial."},

{nome:"Hotel Santa Eufémia",lat:40.2734,lng:-7.5031,raio:300,texto:"Hotel tradicional."},

{nome:"Igreja Santa Maria Maior",lat:40.280208,lng:-7.506062,raio:250,texto:"Igreja histórica."},

{nome:"Igreja Nossa Senhora de Fátima",lat:40.277692,lng:-7.509809,raio:250,texto:"Igreja moderna."},

{nome:"Rotunda do Rato",lat:40.2771,lng:-7.5105,raio:250,texto:"Importante rotunda."},

{nome:"Museu do Lanifício",lat:40.2779,lng:-7.5085,raio:250,texto:"Museu da indústria têxtil."},

{nome:"Câmara Municipal",lat:40.2805,lng:-7.5044,raio:250,texto:"Centro administrativo."},

{nome:"Castelo da Covilhã",lat:40.2817,lng:-7.5086,raio:250,texto:"Fortificação medieval."},

{nome:"Parque do Pião",lat:40.2872,lng:-7.5271,raio:400,texto:"Zona natural."},

{nome:"Penhas da Saúde",lat:40.3076,lng:-7.5486,raio:800,texto:"Zona turística de montanha."},

{nome:"Teleférico Piornos",lat:40.314362,lng:-7.575729,raio:800,texto:"Base do teleférico."},

{nome:"Nossa Senhora da Boa Estrela",lat:40.322991,lng:-7.602988,raio:800,texto:"Santuário."},

{nome:"Lagoa do Viriato",lat:40.322991,lng:-7.602988,raio:800,texto:"Lagoa turística."},

{nome:"Estância de Ski",lat:40.330836,lng:-7.613945,raio:800,texto:"Estância de ski."},

{nome:"Miradouro Vale de Loriga",lat:40.334209,lng:-7.617628,raio:800,texto:"Vista panorâmica."},

{nome:"Vale do Zêzere",lat:40.3280,lng:-7.5867,raio:800,texto:"Vale glaciar."},

{nome:"Torre Serra da Estrela",lat:40.3219,lng:-7.6127,raio:800,texto:"Ponto mais alto de Portugal."},

{nome:"Cascata Poço do Inferno",lat:40.372757,lng:-7.516673,raio:800,texto:"Cascata natural."}

];

function distancia(lat1,lon1,lat2,lon2){
const R=6371e3;
const φ1=lat1*Math.PI/180;
const φ2=lat2*Math.PI/180;
const Δφ=(lat2-lat1)*Math.PI/180;
const Δλ=(lon2-lon1)*Math.PI/180;
const a=Math.sin(Δφ/2)*Math.sin(Δφ/2)+Math.cos(φ1)*Math.cos(φ2)*Math.sin(Δλ/2)*Math.sin(Δλ/2);
const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));
return R*c;
}

function iniciarTour(){
document.getElementById("status").innerHTML="GPS ativo";

navigator.geolocation.watchPosition(pos=>{
let lat=pos.coords.latitude;
let lng=pos.coords.longitude;

for(let p of pontos){
let d=distancia(lat,lng,p.lat,p.lng);

if(d<p.raio){
document.getElementById("local").innerHTML=
"<h3>"+p.nome+"</h3><p>"+p.texto+"</p>";
}
}

});
}

</script>

</body>
</html>
